<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Prawn::Document [RDoc Documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          Prawn::Document
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/rabidprawns_rb.html">lib/rabidprawns.rb</a>
          </li>
          <li class='other'>
            <a href="../../files/lib/rabidprawns/columned_page_rb.html">lib/rabidprawns/columned_page.rb</a>
          </li>
          <li class='other'>
            <a href="../../files/lib/rabidprawns/simple_tables_rb.html">lib/rabidprawns/simple_tables.rb</a>
          </li>
          <li>
            <a class='show' href='#' onclick='this.parentNode.parentNode.className += " expanded"; this.parentNode.removeChild(this); return false'>show all</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000007">clean_table</a></li>
              <li><a href="#M000005">columned_page</a></li>
              <li><a href="#M000004">height_of</a></li>
              <li><a href="#M000006">simple_tables</a></li>
              <li><a href="#M000008">st_defaults</a></li>
              <li><a href="#M000009">st_expand_options</a></li>
              <li><a href="#M000015">st_expand_widths</a></li>
              <li><a href="#M000013">st_find_column_widths</a></li>
              <li><a href="#M000017">st_height_row</a></li>
              <li><a href="#M000016">st_height_title</a></li>
              <li><a href="#M000010">st_settings_helper</a></li>
              <li><a href="#M000014">st_shrink_widths</a></li>
              <li><a href="#M000011">st_write_row</a></li>
              <li><a href="#M000012">st_write_title</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000007'>
                <a name='M000007'></a>
                <div class='synopsis'>
                  <span class='name'>clean_table</span>
                  <span class='arguments'>(table)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">table:</td><td>Hash of table contents
                  
                  </td></tr>
                  </table>
                  <p>
                  Cleans up the table contents filling in missing parts like heading or row
                  information. Will also check for column consistency within the rows.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000007-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000007-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 154</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clean_table</span>(<span class="ruby-identifier">table</span>)&#x000A;    <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>] = [<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>]] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;    <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">push</span> [] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">empty?</span>&#x000A;    <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>] = {} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:headings</span>] = [] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:headings</span>]&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:rows</span>] = [[]] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:rows</span>]&#x000A;      <span class="ruby-identifier">col_width</span> = <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:headings</span>].<span class="ruby-identifier">size</span>&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>][<span class="ruby-identifier">idx</span>][<span class="ruby-identifier">:rows</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">raise</span> <span class="ruby-value str">'Improper number of columns used in row'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">col_width</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">col_width</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;        <span class="ruby-identifier">col_width</span> = <span class="ruby-identifier">row</span>.<span class="ruby-identifier">size</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000005'>
                <a name='M000005'></a>
                <div class='synopsis'>
                  <span class='name'>columned_page</span>
                  <span class='arguments'>(text, title, options = {})</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">text:</td><td>Text to print
                  
                  </td></tr>
                  <tr><td valign="top">title:</td><td>Title of page
                  
                  </td></tr>
                  <tr><td valign="top">options:</td><td>Options hash
                  
                  </td></tr>
                  </table>
                  <p>
                  Print a columned page Available options:
                  </p>
                  <pre>:columns -&gt; number of columns on page&#x000A;:title_colspan -&gt; number of columns title should span&#x000A;:column_pad -&gt; padding between columns&#x000A;:title_font -&gt; Array of font information&#x000A;:default_font -&gt; Array of font information&#x000A;:new_page -&gt; lambda to be called to start a new page&#x000A;:finalize_page -&gt; lambda to be called when a page has been completed&#x000A;:page_height -&gt; height of the page&#x000A;:page_width -&gt; width of the page&#x000A;:margin -&gt; margin on all sides&#x000A;NOTE: Below margin options will have :margin added to them&#x000A;:margin_top -&gt; margin on top&#x000A;:margin_bottom -&gt; margin on bottom&#x000A;:margin_left -&gt; margin on left&#x000A;:margin_right -&gt; margin on right&#x000A;:title_to_text_pad -&gt; padding between title and start of text&#x000A;:new_page_at_start -&gt; move to new page before starting</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000005-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000005-source'><span class="ruby-comment cmt"># File lib/rabidprawns/columned_page.rb, line 25</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">columned_page</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">title</span>, <span class="ruby-identifier">options</span> = {})&#x000A;    <span class="ruby-identifier">opts</span> = {<span class="ruby-identifier">:columns</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">:title_colspan</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:column_pad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>,&#x000A;            <span class="ruby-identifier">:title_font</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, {<span class="ruby-identifier">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">18</span>}],&#x000A;            <span class="ruby-identifier">:default_font</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, {<span class="ruby-identifier">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>}],&#x000A;            <span class="ruby-identifier">:new_page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">lambda</span>{ <span class="ruby-identifier">start_new_page</span> }, <span class="ruby-identifier">:finalize_page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">lambda</span>{},&#x000A;            <span class="ruby-identifier">:page_height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>, <span class="ruby-identifier">:page_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>, <span class="ruby-identifier">:margin</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,&#x000A;            <span class="ruby-identifier">:margin_top</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:margin_bottom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:margin_left</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:margin_right</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>,&#x000A;            <span class="ruby-identifier">:title_to_text_pad</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">:new_page_at_start</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>&#x000A;           }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;    [<span class="ruby-identifier">:columns</span>, <span class="ruby-identifier">:title_colspan</span>, <span class="ruby-identifier">:column_pad</span>, <span class="ruby-identifier">:page_height</span>, <span class="ruby-identifier">:page_width</span>,&#x000A;     <span class="ruby-identifier">:margin</span>, <span class="ruby-identifier">:margin_top</span>, <span class="ruby-identifier">:margin_bottom</span>, <span class="ruby-identifier">:margin_left</span>, <span class="ruby-identifier">:margin_right</span>].<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">x</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">x</span>].<span class="ruby-identifier">to_i</span>}&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_colspan</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:columns</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_colspan</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:columns</span>]&#x000A;    [<span class="ruby-identifier">:margin_top</span>, <span class="ruby-identifier">:margin_bottom</span>, <span class="ruby-identifier">:margin_left</span>, <span class="ruby-identifier">:margin_right</span>].<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">x</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin</span>]} <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;    <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:new_page_at_start</span>])&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:new_page</span>].<span class="ruby-identifier">call</span>&#x000A;    <span class="ruby-keyword kw">else</span>&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:new_page_at_start</span>] = <span class="ruby-keyword kw">true</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_height</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_top</span>]&#x000A;    <span class="ruby-identifier">columns</span> = []&#x000A;    <span class="ruby-identifier">total_width</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_width</span>] <span class="ruby-operator">-</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_pad</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:columns</span>]) <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_left</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_right</span>]&#x000A;    <span class="ruby-identifier">column_width</span> = <span class="ruby-identifier">total_width</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:columns</span>]&#x000A;    <span class="ruby-identifier">title_height</span> = <span class="ruby-value">0</span>&#x000A;    <span class="ruby-identifier">font</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_font</span>]) <span class="ruby-keyword kw">do</span>&#x000A;      <span class="ruby-identifier">title_width</span> = (<span class="ruby-identifier">column_width</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_colspan</span>]) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_pad</span>] <span class="ruby-operator">*</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_colspan</span>] <span class="ruby-operator">-</span> <span class="ruby-value">1</span>))&#x000A;      <span class="ruby-identifier">title_height</span> = <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">title_width</span>)&#x000A;      <span class="ruby-identifier">bounding_box</span>([<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_left</span>], <span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title_width</span>, <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title_height</span>) <span class="ruby-keyword kw">do</span>&#x000A;        <span class="ruby-identifier">text</span> <span class="ruby-identifier">title</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">font</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:default_font</span>]) <span class="ruby-keyword kw">do</span>&#x000A;      <span class="ruby-identifier">ypos</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">title_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_to_text_pad</span>] <span class="ruby-comment cmt"># pad</span>&#x000A;      <span class="ruby-identifier">below_title</span> = <span class="ruby-identifier">ypos</span>&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:columns</span>].<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_colspan</span>])&#x000A;          <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">below_title</span>&#x000A;        <span class="ruby-keyword kw">else</span>&#x000A;          <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_height</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_top</span>]&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">xpos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_left</span>] <span class="ruby-operator">+</span> (<span class="ruby-identifier">column_width</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">i</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_pad</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">i</span>)&#x000A;        <span class="ruby-identifier">bounding_box</span>([<span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">column_width</span>, <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_height</span>] <span class="ruby-operator">-</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_height</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">ypos</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:margin_bottom</span>]) <span class="ruby-keyword kw">do</span>&#x000A;          <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text_box</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>, <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:finalize_page</span>].<span class="ruby-identifier">call</span>&#x000A;    <span class="ruby-identifier">columned_page</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">title</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">empty?</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000004'>
                <a name='M000004'></a>
                <div class='synopsis'>
                  <span class='name'>height_of</span>
                  <span class='arguments'>(text, args)</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000004-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000004-source'><span class="ruby-comment cmt"># File lib/rabidprawns.rb, line 32</span>&#x000A;    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">args</span>)&#x000A;      <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>))&#x000A;        <span class="ruby-identifier">args</span> = {<span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>}&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">args</span>)&#x000A;    <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000006'>
                <a name='M000006'></a>
                <div class='synopsis'>
                  <span class='name'>simple_tables</span>
                  <span class='arguments'>(tables, options={})</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">tables:</td><td><a href="../Array.html">Array</a> of tables
                  
                  </td></tr>
                  <tr><td valign="top">options:</td><td>Table options
                  
                  </td></tr>
                  </table>
                  <p>
                  Prints tables to document.
                  </p>
                  <p>
                  tables array: Each element within this array is a single table, allowing
                  multiple tables to be printed at once. The format of each element in the
                  array is as follows:
                  </p>
                  <pre>{:title =&gt; &quot;I'm the title of the table&quot;,&#x000A; :contents =&gt; [{:headings =&gt; ['col1 heading', 'col2 heading', 'col3 heading'],&#x000A;               :rows =&gt; [['col1 value', 'col2 value', 'col3 value'],&#x000A;                         ['col1 value2', 'col2 value2, {:content =&gt; 'col3 value3', :color =&gt; [100,0,0,0]}]]&#x000A;               :options =&gt; {:headings_text_color_default =&gt; [0,100,0,0]}&#x000A;              }]&#x000A; :options =&gt; {:title_padding =&gt; 20}&#x000A;}</pre>
                  <p>
                  table hash explained:
                  </p>
                  <pre>:title -&gt; String - Title of the table&#x000A;:options -&gt; Options applied to this table only&#x000A;:contents -&gt; Array of Hashes of table contents. (this allows for dynamic resizing within a table to change the number&#x000A;  of columns and headings without starting a new table)&#x000A;  Table Hash:&#x000A;    :headings -&gt; Array of headings&#x000A;    :rows -&gt; Array of Arrays. Each array is a row&#x000A;    :options -&gt; Options applied to this set of contents only</pre>
                  <p>
                  Heading and row values can be a string value, a Hash or nil. If the value
                  is nil, it will be blackedout using the appropriate option for blacking out
                  the cell. If it is a Hash, the :content key must be provided with the
                  string value for the cell. Supported format for value Hashes:
                  </p>
                  <pre>{:content =&gt; 'cell content', :color =&gt; [0,0,0,100], :background_color =&gt; [0,100,0,0], :font =&gt; ['Times', {:style =&gt; 'bold', :size =&gt; 10}]}</pre>
                  <p>
                  Any or all of these values can by provided, with the exception of :content
                  which MUST be provided. Any extra key/value pairs are ignored.
                  </p>
                  <p>
                  Available options:
                  </p>
                  <pre>:table_margin -&gt; margin around entire all tables (the margin references the space around all tables. spacing between individual tables is set using :spacing)&#x000A;:table_margin_left -&gt; left margin for all tables&#x000A;:table_margin_right -&gt; right margin for all tables&#x000A;:table_margin_top -&gt; top margin for all tables&#x000A;:table_margin_bottom -&gt; bottom margin for all tables&#x000A;:default_font -&gt; default font (defaults to first found font at size 6)&#x000A;:default_fill_color -&gt; default fill color (defaults to black)&#x000A;:title_font -&gt; font used for table title (defaults to first found font at size 18)&#x000A;:title_text_color -&gt; text color for table title (defaults to white)&#x000A;:title_background_color -&gt; background color for table title (defaults to blue)&#x000A;:title_text_alignment -&gt; text alignment of title text (defaults :center)&#x000A;:title_padding -&gt; extra padding around title text&#x000A;:headings_font -&gt; default font used for cells in heading (defaults to first found font at font size 6)&#x000A;:headings_text_color_default -&gt; default text color for cells in heading (defaults to black)&#x000A;:headings_text_colors -&gt; text colors for cells in heading. zero based index corresponds to zero based column&#x000A;:headings_background_color_default -&gt; default background color for heading cells (defaults to none)&#x000A;:headings_background_colors -&gt; background colors for cells in heading. zero based index corresponds to zero based column&#x000A;:headings_blackout_color -&gt; color to fill field when value does not exist (default to dark gray)&#x000A;:headings_text_alignment -&gt; default text alignment for headings (defaults to center)&#x000A;:row_font -&gt; default font used for cells in a row (defaults to first found font at font size 6)&#x000A;:row_text_color_default -&gt; default text color for cells in a row (defaults to black)&#x000A;:row_text_colors -&gt; text colors for cells in a row. zero based index corresponds to zero based column&#x000A;:row_background_color_default -&gt; default background color for table cells (defaults to none)&#x000A;:row_background_colors -&gt; background colors for cells in a row. zero based index corresponds to zero based column&#x000A;:row_text_alignment -&gt; default text alignment for rows (defaults to center)&#x000A;:row_blackout_color -&gt; color to fill field when value does not exist (defaults to dark gray)&#x000A;:border_color -&gt; color of table border (defaults to black)&#x000A;:border_width -&gt; width of table border&#x000A;:page_break_on_new_table -&gt; move to a new page when a new table is started&#x000A;:show_title_after_page_break -&gt; print table title after page break before continuing with table&#x000A;:show_headings_after_page_break -&gt; print column headings after page break before continuing with data rows&#x000A;:new_page -&gt; lambda called to start a new page&#x000A;:finalize_page -&gt; lambda called before moving to the next page (example usage would be writing header/footer)&#x000A;:padding -&gt; cell padding&#x000A;:spacing -&gt; space between tables&#x000A;:y_initial -&gt; initial y position when starting to write tables&#x000A;:page_width -&gt; width of the page&#x000A;:page_height -&gt; height of the page&#x000A;:break_for_min_width_on -&gt; Array of single characters to break long strings on for wrapping&#x000A;:column_width_restrictions =&gt; {:fitted =&gt; [], :minimum =&gt; {}, :maximum =&gt; {}} # width restrictions (see extended explanation below)</pre>
                  <p>
                  Width restrictions can be applied to columns to allow some control over
                  column sizing. All restrictions work using a zero based index reference
                  corresponding to table columns. For example:
                  </p>
                  <pre>:fitted =&gt; [true, false, true]</pre>
                  <p>
                  will make the first and third columns of the table fitted. Fitted columns
                  will be as wide as the widest element and will not be expanded or shrunk
                  when resizing. Minimum and maximum values can be set on columns as well:
                  </p>
                  <pre>:minimum =&gt; {1 =&gt; 20, 4 =&gt; 40}, :maximum =&gt; {3 =&gt; 50}</pre>
                  <p>
                  where the key is the column index and the value is the minimum/maximum
                  number of points the column is allowed.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000006-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000006-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 97</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">simple_tables</span>(<span class="ruby-identifier">tables</span>, <span class="ruby-identifier">options</span>={})&#x000A;    <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">st_defaults</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;    <span class="ruby-identifier">new_page</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:new_page</span>]&#x000A;    <span class="ruby-identifier">finalize_page</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:finalize_page</span>]&#x000A;    <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:new_page</span>)&#x000A;    <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:finalize_page</span>)&#x000A;    <span class="ruby-identifier">break_page</span> = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span>&#x000A;      <span class="ruby-identifier">finalize_page</span>.<span class="ruby-identifier">call</span>&#x000A;      <span class="ruby-identifier">new_page</span>.<span class="ruby-identifier">call</span>&#x000A;      [<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:xstart</span>], <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:ystart</span>]]&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">started_opts</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">opts</span>)) <span class="ruby-comment cmt"># deep copy</span>&#x000A;    <span class="ruby-identifier">new_opts_set</span> = <span class="ruby-identifier">lambda</span>{ <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">started_opts</span>)) } <span class="ruby-comment cmt"># provide a copy when required</span>&#x000A;    <span class="ruby-identifier">st_expand_options</span>(<span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">tables</span> = [<span class="ruby-identifier">tables</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">tables</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;    <span class="ruby-identifier">xpos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:xstart</span>]&#x000A;    <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:y_initial</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:ystart</span>]&#x000A;    <span class="ruby-identifier">tables</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">table</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">new_opts_set</span>.<span class="ruby-identifier">call</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:option</span>]) <span class="ruby-operator">:</span> <span class="ruby-identifier">new_opts_set</span>.<span class="ruby-identifier">call</span>&#x000A;      <span class="ruby-identifier">st_expand_options</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">:nomargins</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>)&#x000A;      <span class="ruby-identifier">clean_table</span>(<span class="ruby-identifier">table</span>)&#x000A;      <span class="ruby-identifier">title</span> = <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:title</span>]&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>] = [<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>]] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)&#x000A;      <span class="ruby-identifier">widths</span> = <span class="ruby-identifier">st_find_column_widths</span>(<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">first</span>, <span class="ruby-identifier">opts</span>)&#x000A;      <span class="ruby-keyword kw">if</span>((<span class="ruby-identifier">ypos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_title</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">opts</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:headings</span>], <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">:headings</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:rows</span>].<span class="ruby-identifier">first</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>)) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:yend</span>])&#x000A;        <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">break_page</span>.<span class="ruby-identifier">call</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_title</span>(<span class="ruby-identifier">title</span>, [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">opts</span>)&#x000A;      <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:contents</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row_collection</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:options</span>])&#x000A;          <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:options</span>])&#x000A;          <span class="ruby-identifier">st_expand_options</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">:nomargins</span>)&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">widths</span> = <span class="ruby-identifier">st_find_column_widths</span>(<span class="ruby-identifier">row_collection</span>, <span class="ruby-identifier">opts</span>)&#x000A;        <span class="ruby-keyword kw">if</span>((<span class="ruby-identifier">ypos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:headings</span>], <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">:headings</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:rows</span>].<span class="ruby-identifier">first</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>)) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:yend</span>])&#x000A;          <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">break_page</span>.<span class="ruby-identifier">call</span>&#x000A;          <span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_title</span>(<span class="ruby-identifier">title</span>, [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">opts</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:show_title_after_page_break</span>]&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_row</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:headings</span>], [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">:headings</span>)&#x000A;        <span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:rows</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>&#x000A;          <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">ypos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">row</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:yend</span>])&#x000A;            <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">break_page</span>.<span class="ruby-identifier">call</span>&#x000A;            <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_title</span>(<span class="ruby-identifier">title</span>, [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">opts</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:show_title_after_page_break</span>]&#x000A;            <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_row</span>(<span class="ruby-identifier">row_collection</span>[<span class="ruby-identifier">:headings</span>], [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">:headings</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:show_headings_after_page_break</span>]&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">st_write_row</span>(<span class="ruby-identifier">row</span>, [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>)&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">ypos</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:spacing</span>]&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">finalize_page</span>.<span class="ruby-identifier">call</span>&#x000A;    [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>]&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000008'>
                <a name='M000008'></a>
                <div class='synopsis'>
                  <span class='name'>st_defaults</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Set the default values for building the table. All of these can be
                  overridden when calling <a href="Document.html#M000006">simple_tables</a>
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000008-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000008-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 171</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_defaults</span>&#x000A;    <span class="ruby-identifier">default_margin</span> = <span class="ruby-ivar">@default_margin</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>&#x000A;    <span class="ruby-identifier">default_font</span> = <span class="ruby-ivar">@default_font</span> <span class="ruby-operator">||</span> [<span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, {<span class="ruby-identifier">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span>}]&#x000A;    {&#x000A;      <span class="ruby-identifier">:table_margin</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_margin</span>, <span class="ruby-comment cmt"># margin around entire all tables (the margin references the space around all tables. spacing between individual tables is set using :spacing)</span>&#x000A;      <span class="ruby-identifier">:table_margin_left</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># left margin for all tables</span>&#x000A;      <span class="ruby-identifier">:table_margin_right</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># right margin for all tables</span>&#x000A;      <span class="ruby-identifier">:table_margin_top</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># top margin for all tables</span>&#x000A;      <span class="ruby-identifier">:table_margin_bottom</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># bottom margin for all tables</span>&#x000A;      <span class="ruby-identifier">:default_font</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_font</span>, <span class="ruby-comment cmt"># default font (defaults to first found font at size 6)</span>&#x000A;      <span class="ruby-identifier">:default_fill_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">100</span>], <span class="ruby-comment cmt"># default fill color (defaults to black)</span>&#x000A;      <span class="ruby-identifier">:title_font</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, {<span class="ruby-identifier">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">font_families</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">18</span>}], <span class="ruby-comment cmt"># font used for table title (defaults to first found font at size 18)</span>&#x000A;      <span class="ruby-identifier">:title_text_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>], <span class="ruby-comment cmt"># text color for table title (defaults to white)</span>&#x000A;      <span class="ruby-identifier">:title_background_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">100</span>,<span class="ruby-value">100</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>], <span class="ruby-comment cmt"># background color for table title (defaults to blue)</span>&#x000A;      <span class="ruby-identifier">:title_text_alignment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:center</span>, <span class="ruby-comment cmt"># text alignment of title text</span>&#x000A;      <span class="ruby-identifier">:title_padding</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># extra padding around title text</span>&#x000A;      <span class="ruby-identifier">:headings_font</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_font</span>, <span class="ruby-comment cmt"># default font used for cells in heading (defaults to first found font at font size 6)</span>&#x000A;      <span class="ruby-identifier">:headings_text_color_default</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">100</span>], <span class="ruby-comment cmt"># default text color for cells in heading (defaults to black)</span>&#x000A;      <span class="ruby-identifier">:headings_text_colors</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-comment cmt"># text colors for cells in heading. zero based index corresponds to zero based column</span>&#x000A;      <span class="ruby-identifier">:headings_background_color_default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-comment cmt">#default background color for heading cells (defaults to none)</span>&#x000A;      <span class="ruby-identifier">:headings_background_colors</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-comment cmt"># background colors for cells in heading. zero based index corresponds to zero based column</span>&#x000A;      <span class="ruby-identifier">:headings_blackout_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">70</span>], <span class="ruby-comment cmt"># color to fill field when value does not exist (default to dark gray)</span>&#x000A;      <span class="ruby-identifier">:headings_text_alignment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:center</span>, <span class="ruby-comment cmt"># default text alignment for headings (defaults to center)</span>&#x000A;      <span class="ruby-identifier">:row_font</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_font</span>, <span class="ruby-comment cmt"># default font used for cells in a row (defaults to first found found at font size 6)</span>&#x000A;      <span class="ruby-identifier">:row_text_color_default</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">100</span>], <span class="ruby-comment cmt"># default text color for cells in a row (defaults to black)</span>&#x000A;      <span class="ruby-identifier">:row_text_colors</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-comment cmt"># text colors for cells in a row. zero based index corresponds to zero based column</span>&#x000A;      <span class="ruby-identifier">:row_background_color_default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-comment cmt"># default background color for table cells (defaults to none)</span>&#x000A;      <span class="ruby-identifier">:row_background_colors</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-comment cmt"># background colors for cells in a row. zero based index corresponds to zero based column</span>&#x000A;      <span class="ruby-identifier">:row_text_alignment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:center</span>, <span class="ruby-comment cmt"># default text alignment for rows (defaults to center)</span>&#x000A;      <span class="ruby-identifier">:row_blackout_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">70</span>], <span class="ruby-comment cmt"># color to fill field when value does not exist (defaults to dark gray)</span>&#x000A;      <span class="ruby-identifier">:border_color</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>,<span class="ruby-value">100</span>], <span class="ruby-comment cmt"># color of table border (defaults to black)</span>&#x000A;      <span class="ruby-identifier">:border_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-comment cmt"># width of table border</span>&#x000A;      <span class="ruby-identifier">:page_break_on_new_table</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-comment cmt"># move to a new page when a new table is started</span>&#x000A;      <span class="ruby-identifier">:show_title_after_page_break</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-comment cmt"># print table title after page break before continuing with table</span>&#x000A;      <span class="ruby-identifier">:show_headings_after_page_break</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-comment cmt"># print column headings after page break before continuing with data rows</span>&#x000A;      <span class="ruby-identifier">:column_width_restrictions</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:fitted</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-identifier">:minimum</span> =<span class="ruby-operator">&gt;</span> {}, <span class="ruby-identifier">:maximum</span> =<span class="ruby-operator">&gt;</span> {}}, <span class="ruby-comment cmt"># width restrictions (see extended explanation below)</span>&#x000A;      <span class="ruby-comment cmt"># Width restrictions can be applied to columns to allow some control over column sizing. All</span>&#x000A;      <span class="ruby-comment cmt"># restrictions work using a zero based index reference corresponding to table columns. For example:</span>&#x000A;      <span class="ruby-comment cmt">#   :fitted =&gt; [true, false, true]</span>&#x000A;      <span class="ruby-comment cmt"># will make the first and third columns of the table fitted. Fitted columns will be as wide as the widest element and will not</span>&#x000A;      <span class="ruby-comment cmt"># be expanded or shrunk when resizing. Minimum and maximum values can be set on columns as well:</span>&#x000A;      <span class="ruby-comment cmt">#   :minimum =&gt; {1 =&gt; 20, 4 =&gt; 40}, :maximum =&gt; {3 =&gt; 50}</span>&#x000A;      <span class="ruby-comment cmt"># where the key is the column index and the value is the minimum/maximum number of points the column is allowed.</span>&#x000A;      <span class="ruby-identifier">:new_page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">lambda</span>{ <span class="ruby-identifier">start_new_page</span> }, <span class="ruby-comment cmt"># called to start a new page</span>&#x000A;      <span class="ruby-identifier">:finalize_page</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">lambda</span>{}, <span class="ruby-comment cmt"># called before moving to the next page (example usage would be writing header/footer)</span>&#x000A;      <span class="ruby-identifier">:padding</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># cell padding</span>&#x000A;      <span class="ruby-identifier">:spacing</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-comment cmt"># space between tables</span>&#x000A;      <span class="ruby-identifier">:y_initial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-comment cmt"># initial y position when starting to write tables</span>&#x000A;      <span class="ruby-identifier">:page_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>, <span class="ruby-comment cmt"># width of the page</span>&#x000A;      <span class="ruby-identifier">:page_height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>, <span class="ruby-comment cmt"># height of the page</span>&#x000A;      <span class="ruby-identifier">:break_for_min_width_on</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">','</span>,<span class="ruby-value str">'/'</span>,<span class="ruby-value str">' '</span>] <span class="ruby-comment cmt"># must be single characters</span>&#x000A;      }&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000009'>
                <a name='M000009'></a>
                <div class='synopsis'>
                  <span class='name'>st_expand_options</span>
                  <span class='arguments'>(opts, *args)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">opts:</td><td>Hash of current options
                  
                  </td></tr>
                  </table>
                  <p>
                  Fills out the options hash based on current options
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000009-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000009-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 227</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_expand_options</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;    <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:nomargins</span>))&#x000A;      [<span class="ruby-identifier">:table_margin_left</span>, <span class="ruby-identifier">:table_margin_right</span>, <span class="ruby-identifier">:table_margin_top</span>, <span class="ruby-identifier">:table_margin_bottom</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">sym</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin</span>]&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_width</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_left</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_right</span>]&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:ystart</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_height</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_top</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:ystart</span>]&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:xstart</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_left</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:xstart</span>]&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:yend</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_bottom</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:yend</span>]&#x000A;      <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:xstop</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:page_width</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_margin_right</span>]&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:fitted</span>] = [] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:fitted</span>]&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:minimum</span>] = {} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:minimum</span>]&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>] = {} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>]&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000015'>
                <a name='M000015'></a>
                <div class='synopsis'>
                  <span class='name'>st_expand_widths</span>
                  <span class='arguments'>(info, opts)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">info:</td><td>Hash of width and minimum width values for table columns
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for building the table
                  
                  </td></tr>
                  </table>
                  <p>
                  Expands column widths until table fills bounds. Will raise error if unable
                  to expand columns enough to fit bounds (due to column size restrictions)
                  TODO: add check for fitted columns. check for no change like we do when
                  shrinking
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000015-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000015-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 426</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_expand_widths</span>(<span class="ruby-identifier">info</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">expand_by</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span>&#x000A;    <span class="ruby-keyword kw">while</span>(<span class="ruby-identifier">expand_by</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)&#x000A;      <span class="ruby-identifier">modable</span> = {}&#x000A;      <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">modable</span>[<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">w</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:fitted</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>][<span class="ruby-identifier">idx</span>]&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">extra_pad</span> = <span class="ruby-identifier">expand_by</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">modable</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span>&#x000A;      <span class="ruby-identifier">modable</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span>, <span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">extra_pad</span>)&#x000A;          <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:maximum</span>][<span class="ruby-identifier">idx</span>]&#x000A;        <span class="ruby-keyword kw">else</span>&#x000A;          <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">w</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">extra_pad</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">expand_by</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">info</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000013'>
                <a name='M000013'></a>
                <div class='synopsis'>
                  <span class='name'>st_find_column_widths</span>
                  <span class='arguments'>(table, opts)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">table:</td><td>Hash of table contents
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for building table
                  
                  </td></tr>
                  </table>
                  <p>
                  Determine column widths for the table
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000013-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000013-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 357</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_find_column_widths</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">info</span> = {<span class="ruby-identifier">:widths</span> =<span class="ruby-operator">&gt;</span> [], <span class="ruby-identifier">:min_widths</span> =<span class="ruby-operator">&gt;</span> []}&#x000A;    ([<span class="ruby-identifier">table</span>[<span class="ruby-identifier">:headings</span>]] <span class="ruby-operator">+</span> <span class="ruby-identifier">table</span>[<span class="ruby-identifier">:rows</span>]).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">type</span> = <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'headings'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'row'</span>&#x000A;      <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">item</span> = {<span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;        <span class="ruby-identifier">font</span> <span class="ruby-operator">*</span>(<span class="ruby-identifier">item</span>[<span class="ruby-identifier">:font</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_font&quot;</span>.<span class="ruby-identifier">to_sym</span>]) <span class="ruby-keyword kw">do</span>&#x000A;          <span class="ruby-identifier">string</span> = <span class="ruby-identifier">item</span>[<span class="ruby-identifier">:content</span>].<span class="ruby-identifier">to_s</span>&#x000A;          <span class="ruby-identifier">w</span> = <span class="ruby-identifier">width_of</span>(<span class="ruby-identifier">string</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>)&#x000A;          <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">w</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">w</span>&#x000A;          <span class="ruby-identifier">biggest_word</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:break_for_min_width_on</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">''</span>), <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:break_for_min_width_on</span>].<span class="ruby-identifier">first</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:break_for_min_width_on</span>].<span class="ruby-identifier">first</span>).<span class="ruby-identifier">max</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span><span class="ruby-identifier">a</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">length</span>}&#x000A;          <span class="ruby-identifier">m</span> = (<span class="ruby-identifier">biggest_word</span> <span class="ruby-value">? </span><span class="ruby-identifier">width_of</span>(<span class="ruby-identifier">biggest_word</span>) <span class="ruby-operator">:</span> <span class="ruby-value">0</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>)&#x000A;          <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">m</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">m</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:minimum</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span>, <span class="ruby-identifier">val</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">val</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">val</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>])&#x000A;      <span class="ruby-identifier">info</span> = <span class="ruby-identifier">st_shrink_widths</span>(<span class="ruby-identifier">info</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-keyword kw">elsif</span>(<span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)&#x000A;      <span class="ruby-identifier">info</span> = <span class="ruby-identifier">st_expand_widths</span>(<span class="ruby-identifier">info</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>]&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000017'>
                <a name='M000017'></a>
                <div class='synopsis'>
                  <span class='name'>st_height_row</span>
                  <span class='arguments'>(row, widths, opts, type=:row)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">row:</td><td><a href="../Array.html">Array</a> of row values
                  
                  </td></tr>
                  <tr><td valign="top">widths:</td><td><a href="../Array.html">Array</a> of column width values
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for building the table
                  
                  </td></tr>
                  <tr><td valign="top">type:</td><td>row or heading
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns the max height for the given row
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 462</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">row</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">type</span>=<span class="ruby-identifier">:row</span>)&#x000A;    <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">empty?</span>&#x000A;    <span class="ruby-identifier">h</span> = <span class="ruby-value">0</span>&#x000A;    <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">test_height</span> = <span class="ruby-value">0</span>&#x000A;      <span class="ruby-identifier">item</span> = {<span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;      <span class="ruby-identifier">font</span> <span class="ruby-operator">*</span>(<span class="ruby-identifier">item</span>[<span class="ruby-identifier">:font</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_font&quot;</span>.<span class="ruby-identifier">to_sym</span>]) <span class="ruby-keyword kw">do</span>&#x000A;        <span class="ruby-identifier">test_height</span> = <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">item</span>[<span class="ruby-identifier">:content</span>].<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">idx</span>] <span class="ruby-operator">-</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>))&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">h</span> = <span class="ruby-identifier">test_height</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">test_height</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">h</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>) <span class="ruby-operator">+</span> <span class="ruby-value">2</span> <span class="ruby-comment cmt"># bit of safety to keep from busting the cell</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000016'>
                <a name='M000016'></a>
                <div class='synopsis'>
                  <span class='name'>st_height_title</span>
                  <span class='arguments'>(title, opts)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">title:</td><td>String
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for building the table
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns the height of the title
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000016-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000016-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 449</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_height_title</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">h</span> = <span class="ruby-value">0</span>&#x000A;    <span class="ruby-identifier">font</span> <span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_font</span>] <span class="ruby-keyword kw">do</span>&#x000A;      <span class="ruby-identifier">h</span> = <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">title</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>]) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_padding</span>] <span class="ruby-operator">*</span> <span class="ruby-value">2</span>)&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">h</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> <span class="ruby-comment cmt"># bit of safety to keep from busting the cell</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000010'>
                <a name='M000010'></a>
                <div class='synopsis'>
                  <span class='name'>st_settings_helper</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">args:</td><td>Arguments returned for this method
                  
                  </td></tr>
                  </table>
                  <p>
                  When called with no arguments, it returns current settings for things
                  modified when building the table. When arguments are provided, it sets
                  them. For example:
                  </p>
                  <pre>original_settings = st_settings_helper&#x000A; # do some stuff here&#x000A;st_settings_helper(*original_settings)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000010-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000010-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 251</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_settings_helper</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;    <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>)&#x000A;      <span class="ruby-identifier">orig_fill</span> = <span class="ruby-identifier">fill_color</span>&#x000A;      <span class="ruby-identifier">orig_stroke_color</span> = <span class="ruby-identifier">stroke_color</span>&#x000A;      <span class="ruby-identifier">orig_width</span> = <span class="ruby-identifier">line_width</span>&#x000A;      [<span class="ruby-identifier">orig_fill</span>, <span class="ruby-identifier">orig_stroke_color</span>, <span class="ruby-identifier">orig_width</span>]&#x000A;    <span class="ruby-keyword kw">else</span>&#x000A;      <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>]&#x000A;      <span class="ruby-identifier">stroke_color</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>]&#x000A;      <span class="ruby-identifier">line_width</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>]&#x000A;      <span class="ruby-identifier">args</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000014'>
                <a name='M000014'></a>
                <div class='synopsis'>
                  <span class='name'>st_shrink_widths</span>
                  <span class='arguments'>(info, opts)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">info:</td><td>Hash of width and minimum width values for table columns
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for building the table
                  
                  </td></tr>
                  </table>
                  <p>
                  Shrinks column widths until table fits within bounds. Will raise error if
                  unable to fit table within bounds.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000014-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000014-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 388</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_shrink_widths</span>(<span class="ruby-identifier">info</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">current_width</span> = <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span>&#x000A;    <span class="ruby-identifier">reduce_by</span> = <span class="ruby-identifier">current_width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>]&#x000A;    <span class="ruby-identifier">no_change</span> = <span class="ruby-keyword kw">false</span>&#x000A;    <span class="ruby-keyword kw">while</span>(<span class="ruby-identifier">reduce_by</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_change</span>)&#x000A;      <span class="ruby-identifier">no_change</span> = <span class="ruby-keyword kw">true</span>&#x000A;      <span class="ruby-identifier">modable</span> = {}&#x000A;      <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">modable</span>[<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">w</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:fitted</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:minimum</span>][<span class="ruby-identifier">idx</span>]&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">modable</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">idx</span>, <span class="ruby-identifier">w</span><span class="ruby-operator">|</span>&#x000A;        <span class="ruby-identifier">removal</span> = <span class="ruby-identifier">reduce_by</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">w</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">modable</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">sum</span>)&#x000A;        <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">w</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>])&#x000A;          <span class="ruby-identifier">hard_min</span> = [<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:column_width_restrictions</span>][<span class="ruby-identifier">:minimum</span>][<span class="ruby-identifier">idx</span>].<span class="ruby-identifier">to_f</span>, <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:min_widths</span>][<span class="ruby-identifier">idx</span>]].<span class="ruby-identifier">max</span>&#x000A;          <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">hard_min</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">removal</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">hard_min</span>)&#x000A;            <span class="ruby-identifier">no_change</span> = <span class="ruby-keyword kw">false</span>&#x000A;            <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">hard_min</span>&#x000A;          <span class="ruby-keyword kw">elsif</span>(<span class="ruby-identifier">hard_min</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">w</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">removal</span>)&#x000A;            <span class="ruby-identifier">no_change</span> = <span class="ruby-keyword kw">false</span>&#x000A;            <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>][<span class="ruby-identifier">idx</span>] = <span class="ruby-identifier">w</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">removal</span>&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">current_width</span> = <span class="ruby-identifier">info</span>[<span class="ruby-identifier">:widths</span>].<span class="ruby-identifier">sum</span>&#x000A;      <span class="ruby-identifier">reduce_by</span> = <span class="ruby-identifier">current_width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>]&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">no_change</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">reduce_by</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)&#x000A;      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Failed to fit table data within boundaries. Too wide by: #{reduce_by} units&quot;</span>&#x000A;    <span class="ruby-keyword kw">else</span>&#x000A;      <span class="ruby-identifier">info</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000011'>
                <a name='M000011'></a>
                <div class='synopsis'>
                  <span class='name'>st_write_row</span>
                  <span class='arguments'>(row, point, widths, opts, type=:row)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">row:</td><td>Row of data
                  
                  </td></tr>
                  <tr><td valign="top">point:</td><td>x,y coordinate to start at
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options provided for building the table
                  
                  </td></tr>
                  <tr><td valign="top">type:</td><td>Defaults to row. If not :row, assumes a heading is being written
                  
                  </td></tr>
                  </table>
                  <p>
                  Writes a table row to the page
                  </p>
                  <table>
                  <tr><td valign="top">Returns:</td><td>new x,y coordinate
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000011-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000011-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 271</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_write_row</span>(<span class="ruby-identifier">row</span>, <span class="ruby-identifier">point</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">type</span>=<span class="ruby-identifier">:row</span>)&#x000A;    <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">type</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">:row</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">empty?</span>)&#x000A;      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">point</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">point</span>&#x000A;    <span class="ruby-identifier">startx</span> = <span class="ruby-identifier">xpos</span>&#x000A;    <span class="ruby-identifier">origs</span> = <span class="ruby-identifier">st_settings_helper</span>&#x000A;    <span class="ruby-identifier">height</span> = <span class="ruby-identifier">st_height_row</span>(<span class="ruby-identifier">row</span>, <span class="ruby-identifier">widths</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-identifier">type</span>)&#x000A;    <span class="ruby-identifier">pad</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>]&#x000A;    <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>,<span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>&#x000A;      <span class="ruby-identifier">bounding_box</span> [<span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span>], <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">height</span>, <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">idx</span>] <span class="ruby-keyword kw">do</span>&#x000A;        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">item</span>.<span class="ruby-identifier">nil?</span>)&#x000A;          <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_blackout_color&quot;</span>.<span class="ruby-identifier">to_sym</span>]&#x000A;          <span class="ruby-identifier">fill_rectangle</span> [<span class="ruby-value">0</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>], <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>&#x000A;        <span class="ruby-keyword kw">else</span>(<span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>))&#x000A;          <span class="ruby-identifier">item</span> = {<span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>} <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;          <span class="ruby-identifier">background</span> = <span class="ruby-identifier">item</span>[<span class="ruby-identifier">:background_color</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_background_colors&quot;</span>.<span class="ruby-identifier">to_sym</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_background_color_default&quot;</span>.<span class="ruby-identifier">to_sym</span>]&#x000A;          <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">background</span>)&#x000A;            <span class="ruby-identifier">cur_fill</span> = <span class="ruby-identifier">fill_color</span>&#x000A;            <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">background</span>&#x000A;            <span class="ruby-identifier">fill_rectangle</span> [<span class="ruby-value">0</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>], <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>&#x000A;            <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">cur_fill</span>&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-identifier">cur_fill</span> = <span class="ruby-identifier">fill_color</span>&#x000A;          <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">item</span>[<span class="ruby-identifier">:color</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_text_colors&quot;</span>.<span class="ruby-identifier">to_sym</span>][<span class="ruby-identifier">idx</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_text_color_default&quot;</span>.<span class="ruby-identifier">to_sym</span>]&#x000A;          <span class="ruby-identifier">font</span> <span class="ruby-operator">*</span>(<span class="ruby-identifier">item</span>[<span class="ruby-identifier">:font</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_font&quot;</span>.<span class="ruby-identifier">to_sym</span>]) <span class="ruby-keyword kw">do</span>&#x000A;            <span class="ruby-identifier">alignment</span> = <span class="ruby-identifier">item</span>[<span class="ruby-identifier">:align</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-node">&quot;#{type}_text_alignment&quot;</span>.<span class="ruby-identifier">to_sym</span>]&#x000A;            <span class="ruby-identifier">boxed_width</span> = <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> (<span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">pad</span>)&#x000A;            <span class="ruby-identifier">boxed_height</span> = <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">pad</span>)&#x000A;            <span class="ruby-identifier">text_height</span> = <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">item</span>[<span class="ruby-identifier">:content</span>], <span class="ruby-identifier">boxed_width</span>)&#x000A;            <span class="ruby-identifier">valign_movement</span> = <span class="ruby-identifier">text_height</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">boxed_height</span> <span class="ruby-value">? </span>(<span class="ruby-identifier">boxed_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">text_height</span>) <span class="ruby-operator">/</span> <span class="ruby-value">2.0</span>  <span class="ruby-operator">:</span> <span class="ruby-value">0</span>&#x000A;            <span class="ruby-identifier">bounding_box</span> [<span class="ruby-identifier">pad</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pad</span>], <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">boxed_height</span>, <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">boxed_width</span> <span class="ruby-keyword kw">do</span>&#x000A;              <span class="ruby-identifier">move_down</span> <span class="ruby-identifier">valign_movement</span>&#x000A;              <span class="ruby-identifier">text</span> <span class="ruby-identifier">item</span>[<span class="ruby-identifier">:content</span>], <span class="ruby-identifier">:align</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">alignment</span>&#x000A;            <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-keyword kw">end</span>&#x000A;          <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">cur_fill</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">line_width</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:border_width</span>]&#x000A;        <span class="ruby-identifier">stroke_color</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:border_color</span>]&#x000A;        <span class="ruby-identifier">stroke_bounds</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;      <span class="ruby-identifier">xpos</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">idx</span>]&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">st_settings_helper</span> <span class="ruby-operator">*</span><span class="ruby-identifier">origs</span>&#x000A;    [<span class="ruby-identifier">startx</span>,<span class="ruby-identifier">ypos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">height</span>]&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000012'>
                <a name='M000012'></a>
                <div class='synopsis'>
                  <span class='name'>st_write_title</span>
                  <span class='arguments'>(title, point, opts)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top">title:</td><td>String title for table
                  
                  </td></tr>
                  <tr><td valign="top">point:</td><td>x,y coordinate to start printing
                  
                  </td></tr>
                  <tr><td valign="top">opts:</td><td>Hash of options for table building
                  
                  </td></tr>
                  </table>
                  <p>
                  Prints the table title
                  </p>
                  <table>
                  <tr><td valign="top">Returns:</td><td>new x,y coordinate
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000012-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000012-source'><span class="ruby-comment cmt"># File lib/rabidprawns/simple_tables.rb, line 324</span>&#x000A;  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">st_write_title</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">point</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">title</span>)&#x000A;      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">point</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">xpos</span>,<span class="ruby-identifier">ypos</span> = <span class="ruby-identifier">point</span>&#x000A;    <span class="ruby-identifier">origs</span> = <span class="ruby-identifier">st_settings_helper</span>&#x000A;    <span class="ruby-identifier">height</span> = <span class="ruby-identifier">st_height_title</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">opts</span>)&#x000A;    <span class="ruby-identifier">font</span> <span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_font</span>] <span class="ruby-keyword kw">do</span>&#x000A;      <span class="ruby-identifier">pad</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_padding</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:padding</span>]&#x000A;      <span class="ruby-identifier">bounding_box</span> <span class="ruby-identifier">point</span>, <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:table_width</span>], <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">height</span> <span class="ruby-keyword kw">do</span>&#x000A;        <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_background_color</span>]&#x000A;        <span class="ruby-identifier">fill_rectangle</span> [<span class="ruby-value">0</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>], <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span>&#x000A;        <span class="ruby-identifier">fill_color</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_text_color</span>]&#x000A;        <span class="ruby-identifier">boxed_width</span> = <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> (<span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">pad</span>)&#x000A;        <span class="ruby-identifier">boxed_height</span> = <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">pad</span>)&#x000A;        <span class="ruby-identifier">text_height</span> = <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">boxed_width</span>)&#x000A;        <span class="ruby-identifier">valign_movement</span> = <span class="ruby-identifier">text_height</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">boxed_height</span> <span class="ruby-value">? </span>(<span class="ruby-identifier">boxed_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">text_height</span>) <span class="ruby-operator">/</span> <span class="ruby-value">2.0</span>  <span class="ruby-operator">:</span> <span class="ruby-value">0</span>&#x000A;        <span class="ruby-identifier">bounding_box</span> [<span class="ruby-identifier">pad</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pad</span>], <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">boxed_height</span>, <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">boxed_width</span> <span class="ruby-keyword kw">do</span>&#x000A;          <span class="ruby-identifier">move_down</span> <span class="ruby-identifier">valign_movement</span>&#x000A;          <span class="ruby-identifier">text</span> <span class="ruby-identifier">title</span>, <span class="ruby-identifier">:align</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:title_text_alignment</span>]&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        <span class="ruby-identifier">line_width</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:border_width</span>]&#x000A;        <span class="ruby-identifier">stroke_color</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:border_color</span>]&#x000A;        <span class="ruby-identifier">stroke_bounds</span>&#x000A;      <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-keyword kw">end</span>&#x000A;    <span class="ruby-identifier">st_settings_helper</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">origs</span>)&#x000A;    [<span class="ruby-identifier">xpos</span>, <span class="ruby-identifier">ypos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">height</span>]&#x000A;  <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
